(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){e.exports=n(176)},175:function(e,t,n){},176:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(21),o=n.n(r),l=n(37),i=n(22),c=n(23),u={loggedIn:!1,session:null,currentMsg:""},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MSG_DISPLAY":return Object(c.a)({},e,{currentMsg:t.msg});case"RECEIVE_TOKEN_SUCCESS":return Object(c.a)({},e,{loggedIn:!0,session:t.session,currentMsg:t.msg});case"DELETE_TOKEN_SUCCESS":return Object(c.a)({},e,{loggedIn:!1,session:null,currentMsg:t.msg});default:return e}},h={isLoading:!0,news:null},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_HOMENEWS":return{isLoading:!0,news:[]};case"RECEIVE_HOMENEWS_SUCCESS":return{isLoading:!1,news:t.news};default:return e}},p={isLoading:!0,newsFilters:null},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_NEWS":return{isLoading:!0,newsFilters:[]};case"RECEIVE_NEWS_SUCCESS":return{isLoading:!1,newsFilters:t.newsFilters};default:return e}},g=n(30),f=n(31),w=n.n(f),S={isLoading:!0,news:null},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_SHAREDNEWS":return{isLoading:!0,news:[]};case"RECEIVE_SHAREDNEWS_SUCCESS":return{isLoading:!1,news:t.news};case"ADD_COMMENT_SUCCESS":return Object(c.a)({},e,{news:w()(e.news,Object(g.a)({},t.storyIdx,{comments:{$push:[{displayName:t.displayName,comment:t.comment}]}}))});default:return e}},b={isLoading:!0,user:null},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_PROFILE":return{isLoading:!0,user:[]};case"RECEIVE_PROFILE_SUCCESS":return{isLoading:!1,user:t.user};case"ADD_FILTER":return Object(c.a)({},e,{user:w()(e.user,{newsFilters:{$push:[{name:"New Filter",keyWords:["Keyword"],keywordsStr:"Keyword",enableAlert:!1,alertFrequency:0,enableAutoDelete:!1,deleteTime:0,timeOfLastScan:0}]}})});case"DELETE_FILTER":return Object(c.a)({},e,{user:w()(e.user,{newsFilters:{$splice:[[t.selectedIdx,1]]}})});case"ALTER_FILTER_NAME":return Object(c.a)({},e,{user:w()(e.user,{newsFilters:Object(g.a)({},t.filterIdx,{name:{$set:t.value}})})});case"ALTER_FILTER_KEYWORDS":return Object(c.a)({},e,{user:w()(e.user,{newsFilters:Object(g.a)({},t.filterIdx,{keywordsStr:{$set:t.value},keyWords:{$set:t.value.split(",")}})})});default:return e}},k=Object(l.b)({app:d,homenews:m,news:E,sharednews:y,profile:C}),v=n(16),j=n(17),I=n(19),L=n(18),O=n(20),_=(n(28),n(73)),M=n(89),N=n(49),D=n(186),T=n(183),x=n(184),R=n(38),F=n(185),A=n(180),P=n(98),H=n(181),U=n(94),Y=n(177),G=n(178),W=n(188),K=n(179);function B(e){var t=e,n=Date.now(),a=Math.floor((n-t)/36e5);return 0===a||a<2?"1 hour ago":a.toString()+" hours ago"}function z(e){var t=e.id,n=e.glyph,a=e.label,r=e.help,o=Object(U.a)(e,["id","glyph","label","help"]);return s.a.createElement(Y.a,{controlId:t},s.a.createElement(G.a,null,s.a.createElement(P.a,{glyph:n})," ",a),s.a.createElement(W.a,o),r&&s.a.createElement(K.a,null,r))}var V=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(I.a)(this,Object(L.a)(t).call(this,e))).handleRegister=function(e){var t=n.props.dispatch;return e.preventDefault(),fetch("/api/users",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),cache:"default",body:JSON.stringify({displayName:n.state.name,email:n.state.email,password:n.state.password})}).then(function(e){return e.json().then(function(t){return{ok:e.ok,status:e.status,json:t}})}).then(function(e){if(!e.ok||201!==e.status)throw new Error(e.json.message);t({type:"MSG_DISPLAY",msg:"Registered"}),n.setState({showModal:!1})}).catch(function(e){t({type:"MSG_DISPLAY",msg:"Registration failure: ".concat(e.message)})})},n.handleLogin=function(e){var t=n.props.dispatch;return e.preventDefault(),fetch("/api/sessions",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),cache:"default",body:JSON.stringify({email:n.state.email,password:n.state.password})}).then(function(e){return e.json().then(function(t){return{ok:e.ok,status:e.status,json:t}})}).then(function(e){if(!e.ok||201!==e.status)throw new Error(e.json.message);if(n.state.remeberMe){var a={token:e.json.token,displayName:e.json.displayName,userId:e.json.userId};window.localStorage.setItem("userToken",JSON.stringify(a))}else window.localStorage.removeItem("userToken");t({type:"RECEIVE_TOKEN_SUCCESS",msg:"Signed in as ".concat(e.json.displayName),session:e.json}),window.location.hash="#news"}).catch(function(e){t({type:"MSG_DISPLAY",msg:"Sign in failed: ".concat(e.message)})})},n.handleNameChange=function(e){n.setState({name:e.target.value})},n.handleEmailChange=function(e){n.setState({email:e.target.value})},n.handlePasswordChange=function(e){n.setState({password:e.target.value})},n.handleCheckboxChange=function(e){n.setState({remeberMe:e.target.checked})},n.handleOpenRegModal=function(e){n.setState({showModal:!0})},n.handleCloseRegModal=function(e){n.setState({showModal:!1})},n._renderRegisterModal=function(){return s.a.createElement(F.a,{show:n.state.showModal,onHide:n.handleCloseRegModal},s.a.createElement(F.a.Header,{closeButton:!0},s.a.createElement(F.a.Title,null,"Register")),s.a.createElement(F.a.Body,null,s.a.createElement("form",{onSubmit:n.handleRegister},s.a.createElement(z,{id:"formControlsName",type:"text",glyph:"user",label:"Display Name",placeholder:"Enter display name",onChange:n.handleNameChange}),s.a.createElement(z,{id:"formControlsEmail",type:"email",glyph:"user",label:"Email Address",placeholder:"Enter email",onChange:n.handleEmailChange}),s.a.createElement(z,{id:"formControlsPassword",glyph:"eye-open",label:"Password",type:"password",onChange:n.handlePasswordChange}),s.a.createElement(A.a,{bsStyle:"success",bsSize:"lg",block:!0,type:"submit"},s.a.createElement(P.a,{glyph:"off"})," Register"))),s.a.createElement(F.a.Footer,null,s.a.createElement(A.a,{bsStyle:"danger",bsSize:"lg",onClick:n.handleCloseRegModal},s.a.createElement(P.a,{glyph:"remove"})," Cancel")))},n.state={name:"",email:"",password:"",remeberMe:!1,showModal:!1},n}return Object(O.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return this.props.session?s.a.createElement("h1",{id:"h1ExistID"},"Logged in..."):s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.handleLogin},s.a.createElement(z,{id:"formControlsEmail2",type:"email",glyph:"user",label:"Email Address",placeholder:"Enter email",onChange:this.handleEmailChange}),s.a.createElement(z,{id:"formControlsPassword2",glyph:"eye-open",label:"Password",type:"password",onChange:this.handlePasswordChange}),s.a.createElement(H.a,{id:"rememberMeChk",checked:this.state.remeberMe,onChange:this.handleCheckboxChange},"Keep me logged in"),s.a.createElement(A.a,{id:"btnLogin",bsStyle:"success",bsSize:"lg",block:!0,type:"submit"},"Login")),s.a.createElement("p",null,"Not a NewsWatcher user? ",s.a.createElement("a",{style:{cursor:"pointer"},onClick:this.handleOpenRegModal},"Sign Up")),this._renderRegisterModal())}}]),t}(a.Component),J=Object(i.b)(function(e){return{session:e.app.session}})(V),Q=n(187),$=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(I.a)(this,Object(L.a)(t).call(this,e))).handleChangeFilter=function(e){n.setState({selectedIdx:parseInt(e.target.value,10)})},n.handleShareStory=function(e,t){var a=n.props.dispatch;t.preventDefault(),fetch("/api/sharednews",{method:"POST",headers:new Headers({"x-auth":n.props.session.token,"Content-Type":"application/json"}),cache:"default",body:JSON.stringify(n.props.newsFilters[n.state.selectedIdx].newsStories[e])}).then(function(e){return e.json().then(function(t){return{ok:e.ok,status:e.status,json:t}})}).then(function(e){if(!e.ok||201!==e.status)throw new Error(e.json.message);a({type:"MSG_DISPLAY",msg:"Story shared"})}).catch(function(e){a({type:"MSG_DISPLAY",msg:"Share of story failed: ".concat(e.message)})})},n.state={selectedIdx:0},n}return Object(O.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){if(!this.props.session)return window.location.hash="";var e=this.props.dispatch;e({type:"REQUEST_NEWS"}),fetch("/api/users/".concat(this.props.session.userId),{method:"GET",headers:new Headers({"x-auth":this.props.session.token}),cache:"default"}).then(function(e){return e.json().then(function(t){return{ok:e.ok,status:e.status,json:t}})}).then(function(t){if(!t.ok||200!==t.status)throw new Error(t.json.message);for(var n=0;n<t.json.newsFilters.length;n++)for(var a=0;a<t.json.newsFilters[n].newsStories.length;a++)t.json.newsFilters[n].newsStories[a].hours=B(t.json.newsFilters[n].newsStories[a].date);e({type:"RECEIVE_NEWS_SUCCESS",newsFilters:t.json.newsFilters}),e({type:"MSG_DISPLAY",msg:"News fetched"})}).catch(function(t){e({type:"MSG_DISPLAY",msg:"News fetch failed: ".concat(t.message)})})}},{key:"render",value:function(){var e=this;return this.props.isLoading?s.a.createElement("h1",null,"Loading news..."):s.a.createElement("div",null,s.a.createElement("h1",null,"News"),s.a.createElement(Y.a,{controlId:"formControlsSelect"},s.a.createElement(W.a,{bsSize:"sm",componentClass:"select",placeholder:"select",onChange:this.handleChangeFilter,value:this.state.selectedIdx},this.props.newsFilters.map(function(e,t){return s.a.createElement("option",{key:t,value:t},e.name)}))),s.a.createElement("hr",null),s.a.createElement(Q.a.List,null,this.props.newsFilters[this.state.selectedIdx].newsStories.map(function(t,n){return s.a.createElement(Q.a.ListItem,{key:n},s.a.createElement(Q.a.Left,null,s.a.createElement("a",{href:t.link,target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{alt:"",className:"media-object",src:t.imageUrl}))),s.a.createElement(Q.a.Body,null,s.a.createElement(Q.a.Heading,null,s.a.createElement("b",null,t.title)),s.a.createElement("p",null,t.contentSnippet),t.source," ",s.a.createElement("span",null,t.hours),s.a.createElement(Q.a.Body,null,s.a.createElement("a",{style:{cursor:"pointer"},onClick:function(t){return e.handleShareStory(n,t)}},"Share"))))}),s.a.createElement(Q.a.ListItem,{key:this.props.newsFilters[this.state.selectedIdx].newsStories.length},s.a.createElement(Q.a.Left,null,s.a.createElement("a",{href:"http://developer.nytimes.com",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{alt:"",src:"poweredby_nytimes_30b.png"}))),s.a.createElement(Q.a.Body,null,s.a.createElement(Q.a.Heading,null,s.a.createElement("b",null,"Data provided by The New York Times"))))))}}]),t}(a.Component),q=Object(i.b)(function(e){return{session:e.app.session,newsFilters:e.news.newsFilters,isLoading:e.news.isLoading}})($),X=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(I.a)(this,Object(L.a)(t).call(this,e))).state={isLoading:!0,news:null},n}return Object(O.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this;return fetch("/api/homenews",{method:"GET",cache:"default"}).then(function(e){return e.json().then(function(t){return{ok:e.ok,status:e.status,json:t}})}).then(function(t){if(!t.ok||200!==t.status)throw new Error(t.json.message);for(var n=0;n<t.json.length;n++)t.json[n].hours=B(t.json[n].date);e.setState({isLoading:!1,news:t.json}),e.props.dispatch({type:"MSG_DISPLAY",msg:"Home Page news fetched"})}).catch(function(t){e.props.dispatch({type:"MSG_DISPLAY",msg:"Home News fetch failed: ".concat(t.message)})})}},{key:"render",value:function(){return this.state.isLoading?s.a.createElement("h1",null,"Loading home page news..."):s.a.createElement("div",null,s.a.createElement("h1",null,"Home Page News"),s.a.createElement(Q.a.List,null,this.state.news.map(function(e,t){return s.a.createElement(Q.a.ListItem,{key:t},s.a.createElement(Q.a.Left,null,s.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{alt:"",className:"media-object",src:e.imageUrl}))),s.a.createElement(Q.a.Body,null,s.a.createElement(Q.a.Heading,null,s.a.createElement("b",null,e.title)),s.a.createElement("p",null,e.contentSnippet),e.source," - ",s.a.createElement("span",null,e.hours)))}),s.a.createElement(Q.a.ListItem,{key:this.state.news.length},s.a.createElement(Q.a.Left,null,s.a.createElement("a",{href:"http://developer.nytimes.com",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{alt:"",src:"poweredby_nytimes_30b.png"}))),s.a.createElement(Q.a.Body,null,s.a.createElement(Q.a.Heading,null,s.a.createElement("b",null,"Data provided by The New York Times"))))))}}]),t}(a.Component),Z=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(I.a)(this,Object(L.a)(t).call(this,e))).handleOpenModal=function(e,t){n.setState({selectedStoryIdx:e,showModal:!0})},n.handleCloseModal=function(e){n.setState({showModal:!1})},n.handleAddComment=function(e){var t=n.props.dispatch;e.preventDefault(),fetch("/api/sharednews/".concat(n.props.news[n.state.selectedStoryIdx].story.storyID,"/Comments"),{method:"POST",headers:new Headers({"x-auth":n.props.session.token,"Content-Type":"application/json"}),cache:"default",body:JSON.stringify({comment:n.state.comment})}).then(function(e){return e.json().then(function(t){return{ok:e.ok,status:e.status,json:t}})}).then(function(e){if(!e.ok||201!==e.status)throw new Error(e.json.message);var a=n.state.selectedStoryIdx;t({type:"ADD_COMMENT_SUCCESS",comment:n.state.comment,displayName:n.props.session.displayName,storyIdx:a}),n.setState({showModal:!1,comment:""}),t({type:"MSG_DISPLAY",msg:"Comment added"})}).catch(function(e){t({type:"MSG_DISPLAY",msg:"Comment add failed: ".concat(e.message)})})},n.handleCommentChange=function(e){n.setState({comment:e.target.value})},n.state={comment:"",selectedStoryIdx:0},n}return Object(O.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){if(!this.props.session)return window.location.hash="";var e=this.props.dispatch;e({type:"REQUEST_SHAREDNEWS"}),fetch("/api/sharednews",{method:"GET",headers:new Headers({"x-auth":this.props.session.token}),cache:"default"}).then(function(e){return e.json().then(function(t){return{ok:e.ok,status:e.status,json:t}})}).then(function(t){if(!t.ok||200!==t.status)throw new Error(t.json.message);for(var n=0;n<t.json.length;n++)t.json[n].story.hours=B(t.json[n].story.date);e({type:"RECEIVE_SHAREDNEWS_SUCCESS",news:t.json}),e({type:"MSG_DISPLAY",msg:"Shared News fetched"})}).catch(function(t){e({type:"MSG_DISPLAY",msg:"Shared News fetch failed: ".concat(t.message)})})}},{key:"render",value:function(){var e=this;return this.props.isLoading?s.a.createElement("h1",null,"Loading shared news..."):s.a.createElement("div",null,s.a.createElement("h1",null,"Shared News"),s.a.createElement(Q.a.List,null,this.props.news.map(function(t,n){return s.a.createElement(Q.a.ListItem,{key:n},s.a.createElement(Q.a.Left,null,s.a.createElement("a",{href:t.story.link,target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{alt:"",className:"media-object",src:t.story.imageUrl}))),s.a.createElement(Q.a.Body,null,s.a.createElement(Q.a.Heading,null,s.a.createElement("b",null,t.story.title)),s.a.createElement("p",null,t.story.contentSnippet),t.story.source," - ",s.a.createElement("span",null,t.story.hours),s.a.createElement("a",{style:{cursor:"pointer"},onClick:function(t){return e.handleOpenModal(n,t)}}," Comments")))}),s.a.createElement(Q.a.ListItem,{key:this.props.news.length},s.a.createElement(Q.a.Left,null,s.a.createElement("a",{href:"http://developer.nytimes.com",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{alt:"",src:"poweredby_nytimes_30b.png"}))),s.a.createElement(Q.a.Body,null,s.a.createElement(Q.a.Heading,null,s.a.createElement("b",null,"Data provided by The New York Times"))))),this.props.news.length>0&&s.a.createElement(F.a,{show:this.state.showModal,onHide:this.handleCloseModal},s.a.createElement(F.a.Header,{closeButton:!0},s.a.createElement(F.a.Title,null,"Add Comment")),s.a.createElement(F.a.Body,null,s.a.createElement("form",{onSubmit:this.handleAddComment},s.a.createElement(Y.a,{controlId:"commentList"},s.a.createElement(G.a,null,s.a.createElement(P.a,{glyph:"user"})," Comments"),s.a.createElement("ul",{style:{height:"10em",overflow:"auto","overflow-x":"hidden"}},this.props.news[this.state.selectedStoryIdx].comments.map(function(e){return s.a.createElement("li",null,s.a.createElement("div",null,s.a.createElement("p",null,"'",e.comment,"' - ",e.displayName," ")))}))),this.props.news[this.state.selectedStoryIdx].comments.length<30&&s.a.createElement("div",null,s.a.createElement(z,{id:"formControlsComment",type:"text",glyph:"user",label:"Comment",placeholder:"Enter your comment",onChange:this.handleCommentChange}),s.a.createElement(A.a,{disabled:0===this.state.comment.length,bsStyle:"success",bsSize:"lg",block:!0,type:"submit"},s.a.createElement(P.a,{glyph:"off"})," Add")))),s.a.createElement(F.a.Footer,null,s.a.createElement(A.a,{bsStyle:"danger",bsSize:"lg",onClick:this.handleCloseModal},s.a.createElement(P.a,{glyph:"remove"})," Close"))))}}]),t}(a.Component),ee=Object(i.b)(function(e){return{session:e.app.session,news:e.sharednews.news,isLoading:e.sharednews.isLoading}})(Z),te=n(182),ne=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(I.a)(this,Object(L.a)(t).call(this,e))).handleUnRegister=function(e){var t=n.props.dispatch;e.preventDefault(),fetch("/api/users/".concat(n.props.session.userId),{method:"DELETE",headers:new Headers({"x-auth":n.props.session.token}),cache:"default"}).then(function(e){return e.json().then(function(t){return{ok:e.ok,status:e.status,json:t}})}).then(function(e){if(!e.ok||200!==e.status)throw new Error(e.json.message);n.props.appLogoutCB(),t({type:"MSG_DISPLAY",msg:"Account deleted"})}).catch(function(e){t({type:"MSG_DISPLAY",msg:"Account delete failed: ".concat(e.message)})})},n.handleNameChange=function(e){n.props.dispatch({type:"ALTER_FILTER_NAME",filterIdx:n.state.selectedIdx,value:e.target.value})},n.handleKeywordsChange=function(e){n.props.dispatch({type:"ALTER_FILTER_KEYWORDS",filterIdx:n.state.selectedIdx,value:e.target.value})},n.handleOpenModal=function(e){n.setState({showModal:!0})},n.handleCloseModal=function(e){n.setState({showModal:!1})},n.handleChangeFilter=function(e){n.setState({selectedIdx:parseInt(e.target.value,10)})},n.handleAdd=function(e){var t=n.props.dispatch;if(e.preventDefault(),5===n.props.user.newsFilters.length)t({type:"MSG_DISPLAY",msg:"No more newsFilters allowed"});else{var a=n.props.user.newsFilters.length;t({type:"ADD_FILTER"}),n.setState({selectedIdx:a})}},n.handleDelete=function(e){e.preventDefault(),n.props.dispatch({type:"DELETE_FILTER",selectedIdx:n.state.selectedIdx}),n.setState({selectedIdx:0})},n.handleSave=function(e){var t=n.props.dispatch;e.preventDefault(),fetch("/api/users/".concat(n.props.session.userId),{method:"PUT",headers:new Headers({"x-auth":n.props.session.token,"Content-Type":"application/json"}),cache:"default",body:JSON.stringify(n.props.user)}).then(function(e){return e.json().then(function(t){return{ok:e.ok,status:e.status,json:t}})}).then(function(e){if(!e.ok||200!==e.status)throw new Error(e.json.message);t({type:"MSG_DISPLAY",msg:"Profile saved"})}).catch(function(e){t({type:"MSG_DISPLAY",msg:"Profile save failed: ".concat(e.message)})})},n.handleCheckboxChange=function(e){n.setState({deleteOK:e.target.checked})},n.state={deleteOK:!1,selectedIdx:0,showModal:!1},n}return Object(O.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){if(!this.props.session)return window.location.hash="";var e=this.props.dispatch;e({type:"REQUEST_PROFILE"}),fetch("/api/users/".concat(this.props.session.userId),{method:"GET",headers:new Headers({"x-auth":this.props.session.token}),cache:"default"}).then(function(e){return e.json().then(function(t){return{ok:e.ok,status:e.status,json:t}})}).then(function(t){if(!t.ok||200!==t.status)throw new Error(t.json.message);for(var n=0;n<t.json.newsFilters.length;n++)t.json.newsFilters[n].keywordsStr=t.json.newsFilters[n].keyWords.join(",");e({type:"RECEIVE_PROFILE_SUCCESS",user:t.json}),e({type:"MSG_DISPLAY",msg:"Profile fetched"})}).catch(function(t){e({type:"MSG_DISPLAY",msg:"Profile fetch failed: ".concat(t.message)})})}},{key:"render",value:function(){return this.props.isLoading?s.a.createElement("h1",null,"Loading profile..."):s.a.createElement("div",null,s.a.createElement("h1",null,"Profile: News Filters"),s.a.createElement(Y.a,{controlId:"formControlsSelect"},s.a.createElement(W.a,{bsSize:"sm",componentClass:"select",placeholder:"select",onChange:this.handleChangeFilter,value:this.state.selectedIdx},this.props.user.newsFilters.map(function(e,t){return s.a.createElement("option",{key:t,value:t},e.name)}))),s.a.createElement("hr",null),s.a.createElement("form",null,s.a.createElement(z,{id:"formControlsName",type:"text",label:"Name",placeholder:"NewFilter",onChange:this.handleNameChange,value:this.props.user.newsFilters[this.state.selectedIdx].name}),s.a.createElement(z,{id:"formControlsKeywords",type:"text",label:"Keywords",placeholder:"Keywords",onChange:this.handleKeywordsChange,value:this.props.user.newsFilters[this.state.selectedIdx].keywordsStr}),s.a.createElement("div",{class:"btn-group btn-group-justified",role:"group","aria-label":"..."},s.a.createElement(te.a,null,s.a.createElement(A.a,{disabled:this.props.user.newsFilters.length>4,bsStyle:"primary",bsSize:"sm",onClick:this.handleAdd},s.a.createElement(P.a,{glyph:"plus"})," Add"),s.a.createElement(A.a,{disabled:this.props.user.newsFilters.length<2,bsStyle:"primary",bsSize:"sm",onClick:this.handleDelete},s.a.createElement(P.a,{glyph:"trash"})," Delete"),s.a.createElement(A.a,{bsStyle:"primary",bsSize:"sm",onClick:this.handleSave},s.a.createElement(P.a,{glyph:"save"})," Save")))),s.a.createElement("hr",null),s.a.createElement("p",null,"No longer have a need for NewsWatcher? ",s.a.createElement("a",{id:"deleteLink",style:{cursor:"pointer"},onClick:this.handleOpenModal},"Delete your NewsWatcher Account")),s.a.createElement(F.a,{show:this.state.showModal,onHide:this.handleCloseModal},s.a.createElement(F.a.Header,{closeButton:!0},s.a.createElement(F.a.Title,null,"Un-Register")),s.a.createElement(F.a.Body,null,s.a.createElement("form",{onSubmit:this.handleUnRegister},s.a.createElement(H.a,{checked:this.state.deleteOK,onChange:this.handleCheckboxChange},"Check if you are sure you want to delete your NewsWatcher account"),s.a.createElement(A.a,{disabled:!this.state.deleteOK,bsStyle:"success",bsSize:"lg",block:!0,type:"submit"},s.a.createElement(P.a,{glyph:"off"})," Delete NewsWatcher Account"))),s.a.createElement(F.a.Footer,null,s.a.createElement(A.a,{bsStyle:"danger",bsSize:"lg",onClick:this.handleCloseModal},s.a.createElement(P.a,{glyph:"remove"})," Cancel"))))}}]),t}(a.Component),ae=Object(i.b)(function(e){return{session:e.app.session,user:e.profile.user,isLoading:e.profile.isLoading}})(ne),se=function(e){function t(){return Object(v.a)(this,t),Object(I.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",null,"404 page not found"),s.a.createElement("p",null,"The page you are looking for does not exist."))}}]),t}(a.Component),re=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(I.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(s)))).handleLogout=function(e){var t=n.props.dispatch;e&&e.preventDefault(),fetch("/api/sessions/".concat(n.props.session.userId),{method:"DELETE",headers:new Headers({"x-auth":n.props.session.token}),cache:"default"}).then(function(e){return e.json().then(function(t){return{ok:e.ok,status:e.status,json:t}})}).then(function(e){if(!e.ok||200!==e.status)throw new Error(e.json.message);t({type:"DELETE_TOKEN_SUCCESS",msg:"Signed out"}),window.localStorage.removeItem("userToken"),window.location.hash=""}).catch(function(e){t({type:"MSG_DISPLAY",msg:"Sign out failed: ".concat(e.message)})})},n}return Object(O.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=window.localStorage.getItem("userToken");if(e){var t=JSON.parse(e);this.props.dispatch({type:"RECEIVE_TOKEN_SUCCESS",msg:"Signed in as ".concat(t.displayName),session:t})}}},{key:"render",value:function(){var e=this;return s.a.createElement(_.a,null,s.a.createElement("div",null,s.a.createElement(D.a,{fluid:!0,default:!0,collapseOnSelect:!0},s.a.createElement(D.a.Header,null,s.a.createElement(D.a.Brand,null,"NewsWatcher ",this.props.currentMsg&&s.a.createElement("span",null,s.a.createElement("small",{id:"currentMsgId"},"(",this.props.currentMsg,")"))),s.a.createElement(D.a.Toggle,null)),s.a.createElement(D.a.Collapse,null,s.a.createElement(T.a,null,s.a.createElement(R.IndexLinkContainer,{to:"/",replace:!0},s.a.createElement(x.a,null,"Home Page News")),this.props.loggedIn&&s.a.createElement(R.IndexLinkContainer,{to:"/news",replace:!0},s.a.createElement(x.a,null,"My News")),this.props.loggedIn&&s.a.createElement(R.IndexLinkContainer,{to:"/sharednews",replace:!0},s.a.createElement(x.a,null,"Shared News")),this.props.loggedIn&&s.a.createElement(R.IndexLinkContainer,{to:"/profile",replace:!0},s.a.createElement(x.a,null,"Profile")),this.props.loggedIn&&s.a.createElement(x.a,{onClick:this.handleLogout},"Logout"),!this.props.loggedIn&&s.a.createElement(R.IndexLinkContainer,{to:"/login",replace:!0},s.a.createElement(x.a,{id:"loginLink"},"Login"))))),s.a.createElement("hr",null),s.a.createElement(M.a,null,s.a.createElement(N.a,{exact:!0,path:"/",render:function(){return s.a.createElement(X,{dispatch:e.props.dispatch})}}),s.a.createElement(N.a,{path:"/login",component:J}),s.a.createElement(N.a,{path:"/news",component:q}),s.a.createElement(N.a,{path:"/sharednews",component:ee}),s.a.createElement(N.a,{path:"/profile",render:function(t){return s.a.createElement(ae,Object.assign({appLogoutCB:e.handleLogout},t))}}),s.a.createElement(N.a,{component:se}))))}}]),t}(a.Component),oe=Object(i.b)(function(e){return{loggedIn:e.app.loggedIn,session:e.app.session,currentMsg:e.app.currentMsg}})(re),le=(n(173),n(174),n(175),Object(l.c)(k));o.a.render(s.a.createElement(i.a,{store:le},s.a.createElement(oe,null)),document.getElementById("root"))},28:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.c47bedfa.chunk.js.map